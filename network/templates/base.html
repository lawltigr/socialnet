{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SocialNet</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body style="padding: 5px 30px; color: rgb(60, 104, 111); " class="bg-dark text-light">
    <nav>

    </nav>
    {% if user.is_authenticated %}
        <!-- <p>You are logged in as {{user.username}} | <a href="{% url 'logout' %}">Log out</a></p> -->
        <p style="margin-bottom: 0px; text-align: right;">
            <a href="{% url 'notifications' %}" style="position: relative; text-decoration: none; color: rgb(83, 155, 161); font-size: 20px;">ðŸ””
                {% if notif_count %}
                    <span style="position: absolute; top: -10px; right: -10px; background-color: red; color: white; border-radius: 50%; font-size: 12px; padding: 2px 6px;">{{ notif_count }}</span>
                {% endif %}
            </a>
        </p>
        <form action="{% url 'logout' %}" method="post" style="display: inline;">
            {% csrf_token %}
            <button type="submit" class="btn btn-link p-0 m-0 align-baseline" style="text-decoration: underline; color: rgb(83, 155, 161);">Log out</button>
    </form>
    
    {% else %}
        <p><a href="{% url 'login' %}" style="text-decoration: underline; color: rgb(83, 155, 161);">Login</a> | <a href="{% url 'signup' %}" style="text-decoration: underline; color: rgb(83, 155, 161);">Sign up</a></p>
    {% endif %}
    
    <p style="margin-bottom: 0px; text-align: right;"><a href="{% url 'inbox' %}" style="text-decoration: underline; color: rgb(83, 155, 161);">Inbox</a></p>
    <p style="margin-bottom: 5px; text-align: right;"><a href="{% url 'feed' %}" style="text-decoration: underline; color: rgb(83, 155, 161);">Feed</a></p>
    <p style="text-align: right;"><a href="{% url 'saved_posts' %}" style="text-decoration: underline; color: rgb(83, 155, 161);">Saved</a></p>


    <hr>

    {% if messages %}
    <div aria-live="polite" aria-automic="true" class="position-relative">
        <div class="toast-container position-fixed top-0 end-0 p-3">
            {% for message in messages %}
                <div class="toast show bg-dark text-light" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="toast-header">
                        <strong class="me-auto">Notice</strong>
                        <small>Now</small>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">{{message}}</div>
                </div>
            {% endfor %}
        </div>
    </div>
        
    {% endif %}

    {% block content %}
    {% endblock %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function toggleReplyForm(commentId){
            const form = document.getElementById('reply-form-' + commentId);
            form.style.display = (form.style.display === 'none') ? 'block' : 'none';
        }
    </script>
</body>
</html>